---
import Loader from '@/components/CCommon/Loader.astro';
---

<div class="w-full mx-auto relative">
  <div class="grid grid-cols-[auto_1fr_auto] gap-2 sm:gap-4 md:gap-6 lg:gap-8 items-center">
    
    <button
      id="prevBtn"
      aria-label="Anterior"
      class="hidden sm:flex w-10 h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 items-center justify-center 
             text-2xl md:text-3xl lg:text-4xl bg-white/80 backdrop-blur rounded-full shadow
             hover:bg-[#1D293D] hover:text-white transition-colors duration-200 z-10"
    >‹</button>

    <div
      id="slider"
      class="relative flex gap-4 sm:gap-6 md:gap-8 overflow-x-auto no-scrollbar scroll-smooth
             snap-x snap-mandatory w-full p-4 sm:p-5 md:p-6 lg:p-7 min-h-[300px] rounded-xl bg-gray-50"
    >
      <Loader id="carousel-loader" text="Cargando noticias destacadas..." />
      
      </div>

    <button
      id="nextBtn"
      aria-label="Siguiente"
      class="hidden sm:flex w-10 h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 items-center justify-center 
             text-2xl md:text-3xl lg:text-4xl bg-white/80 backdrop-blur rounded-full shadow
             hover:bg-[#1D293D] hover:text-white transition-colors duration-200 z-10"
    >›</button>
  </div>

  <script>
    import { mountCarousel } from "@/services/index/carouselService";

    // Iniciamos pasando los IDs de TU html
    mountCarousel({
        containerId: 'slider',
        loaderId: 'carousel-loader',
        prevBtnId: 'prevBtn',
        nextBtnId: 'nextBtn'
    });
  </script>
</div>

<style>
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>
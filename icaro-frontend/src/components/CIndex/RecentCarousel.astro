---
//RecentCarousel.astro
---

<style>
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<div class="w-full mx-auto">
  <div class="grid grid-cols-[auto_1fr_auto] gap-2 sm:gap-4 md:gap-6 lg:gap-8 items-center">
    <!-- Flecha anterior -->
    <button
      id="prevBtn"
      aria-label="Anterior"
      class="hidden sm:flex w-10 h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 items-center justify-center 
             text-2xl md:text-3xl lg:text-4xl bg-white/80 backdrop-blur rounded-full shadow
             hover:bg-[#1D293D] hover:text-white transition-colors duration-200"
    >‹</button>

    <!-- Carrusel -->
    <div
      id="slider"
      class="relative flex gap-4 sm:gap-6 md:gap-8 overflow-x-auto no-scrollbar scroll-smooth
             snap-x snap-mandatory w-full p-4 sm:p-5 md:p-6 lg:p-7 min-h-[300px]"
    >
      <!-- Loader del carousel -->
      <div id="carousel-loader" class="absolute inset-0 flex items-center justify-center bg-white">
        <div class="text-center">
          <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-[#006D38]"></div>
          <p class="mt-4 text-gray-500">Cargando noticias destacadas...</p>
        </div>
      </div>
    </div>

    <!-- Flecha siguiente -->
    <button
      id="nextBtn"
      aria-label="Siguiente"
      class="hidden sm:flex w-10 h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 items-center justify-center 
             text-2xl md:text-3xl lg:text-4xl bg-white/80 backdrop-blur rounded-full shadow
             hover:bg-[#1D293D] hover:text-white transition-colors duration-200"
    >›</button>
  </div>

  <script>
    import { setupCarousel } from "@/utils/index/carousel";
    setupCarousel('slider', 'prevBtn', 'nextBtn');
  </script>
</div>
---

---

<div id="editModal" class="modal hidden">
  <div class="modal-overlay" onclick="window.hideModal()"></div>
  <div class="modal-content">
    <h3 id="modalTitle" class="text-xl font-bold mb-4">Editar Noticia</h3>
    
    <form id="editForm" class="space-y-4">
      <input type="hidden" id="editId" />
      <div>
        <label for="editIdDisplay" class="block text-sm font-medium text-gray-700">ID de Noticia</label>
        <input type="text" id="editIdDisplay" name="editIdDisplay" readonly class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm" />
      </div>

      <div>
        <label for="editTitle" class="block text-sm font-medium text-gray-700">Título</label>
        <input type="text" id="editTitle" name="editTitle" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
      </div>

      <div>
        <label for="editDescription" class="block text-sm font-medium text-gray-700">Descripción</label>
        <textarea id="editDescription" name="editDescription" rows="5" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
      </div>

      <div>
        <label for="editLink" class="block text-sm font-medium text-gray-700">Enlace (URL)</label>
        <input type="url" id="editLink" name="editLink" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
      </div>

      <div>
        <label for="editpublicationDate" class="block text-sm font-medium text-gray-700">Fecha Publicación (YYYY-MM-DD)</label>
        <input type="date" id="editpublicationDate" name="editpublicationDate" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
      </div>

      <div class="flex items-center">
        <input type="checkbox" id="editHighlighted" name="editHighlighted" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500" />
        <label for="editHighlighted" class="ml-2 block text-sm text-gray-900">Destacar noticia</label>
      </div>

      <div class="flex justify-end space-x-3 pt-4">
        <button type="button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300" onclick="window.hideModal()">
          Cancelar
        </button>
        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
          Guardar Cambios
        </button>
      </div>
    </form>
  </div>
</div>

<style is:global>
  /* Sistema de modal unificado y simplificado */
  .modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 100;
    background: rgba(0, 0, 0, 0.5);
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }

  .modal:not(.hidden) {
    display: flex;
  }

  .modal-overlay {
    position: absolute;
    inset: 0;
    background: transparent;
  }

  .modal-content {
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    width: 100%;
    max-width: 48rem;
    max-height: 90vh;
    overflow-y: auto;
    padding: 1.5rem;
    position: relative;
    z-index: 101;
  }

  /* Scroll locking simple y efectivo */
  body.modal-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
  }
</style>

<script>
  import { initializeEditModal } from "@/utils/news/editModal.ts";
  if (typeof document !== 'undefined') {
    initializeEditModal();
  }
  document.addEventListener("DOMContentLoaded", initializeEditModal);
</script>

---
import BaseLayout from "@/layouts/BaseLayout.astro";
import TopUtility from "@/components/CCommon/TopUtility.astro";
import NavBar from "@/components/CCommon/NavBar.astro";
import Header from "@/components/CCommon/Header.astro";
import CTitle from "@/components/CCommon/TitlePages.astro";
import SearchInput from "@/components/CProjects/SearchProject.astro";
import ProjectsList from "@/components/CProjects/ProjectList.astro";
import AddProject from "@/components/CProjects/AddProject.astro";

import "@/styles/index.css";
import { loadProjectsData } from "@/utils/projects/projectsPageLoader";

const projects = await loadProjectsData();
---

<BaseLayout>
  <section class="max-w-full bg-white shadow-md rounded-lg">
    <TopUtility />
    <Header />
  </section>

  <section class="mt-10 max-w-full bg-white shadow-md">
    <NavBar />
  </section>

  <CTitle Title="Projects" />

  <AddProject />

  <section class="w-full px-4 mx-auto max-w-custom">
    <SearchInput placeholder="Buscar proyectos por nombre..." />
    
    <ProjectsList projects={projects} />
  </section>
</BaseLayout>

<style>
  /* Igual que en News */
  .max-w-custom {
    max-width: 1200px;
  }
</style>